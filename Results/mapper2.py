import numpy as np
import matplotlib.pyplot as plt

startPos = [[-0.64, 0.64], [0.64, 0.64]]
res = 0.08
mapSize = 1.28

maps = [
	[[-0.6, -1.8, -3.4, -1.7, 0.0, 0.0, 3.6, 4.4, -1.5, -3.4, 4.2, -2.9, 7.3, 6.5, 8.6, 6.2, ],
[-2.3, -5.0, -5.9, -4.2, -4.2, -0.3, 4.2, 6.5, -1.2, -2.4, -2.1, -1.1, 2.8, 7.1, 6.9, 7.1, ],
[-3.8, -6.8, -6.8, -8.5, -7.6, -4.4, -2.9, -4.2, -5.1, -4.1, -10.7, -6.5, 3.3, 3.5, 4.0, 7.4, ],
[-5.0, -8.2, -9.3, -10.2, -9.3, -9.3, -8.5, -11.0, -10.2, -8.2, -7.7, -10.4, -4.2, 6.6, 7.5, 3.0, ],
[-9.5, -13.6, -13.6, -13.6, -13.6, -14.4, -14.4, -16.9, -10.7, -11.4, -11.4, -10.5, -9.4, 1.3, 3.4, 4.3, ],
[-9.9, -15.3, -16.1, -16.1, -16.9, -17.8, -20.3, -18.9, -18.1, -11.2, -15.0, -7.4, -6.5, -9.4, -2.3, 3.1, ],
[-9.9, -16.1, -18.6, -18.6, -19.5, -20.3, -21.2, -23.2, -24.9, -15.4, -17.3, -14.2, -8.5, -7.9, -5.8, -0.8, ],
[-8.2, -16.8, -20.3, -20.3, -20.3, -21.2, -23.7, -25.7, -24.6, -23.2, -18.7, -15.1, -17.7, -8.6, -11.6, -10.5, ],
[-2.1, -7.6, -17.8, -21.2, -21.2, -21.4, -23.7, -23.8, -20.6, -23.1, -14.6, -14.1, -15.4, -13.3, -13.0, -10.5, ],
[-4.3, -5.6, -12.0, -17.8, -18.9, -22.3, -20.1, -18.1, -21.6, -21.8, -21.8, -18.7, -18.1, -16.4, -13.8, -11.3, ],
[-3.5, -0.7, -3.5, -8.9, -16.9, -19.3, -19.6, -20.5, -22.8, -21.1, -21.4, -20.3, -17.9, -14.6, -11.3, -5.1, ],
[0.2, 1.0, 2.1, -1.7, -6.9, -14.7, -14.0, -9.5, -10.2, -10.5, -12.8, -14.0, -8.5, -3.9, 1.2, 8.8, ],
[-4.2, 3.1, 0.3, 3.5, 2.2, -0.8, -1.1, -5.6, -8.6, -4.1, -3.3, 2.9, 9.2, 14.4, 13.2, 12.2, ],
[-2.5, -2.3, 3.4, 2.3, 2.6, 8.5, 7.6, 8.9, 8.0, 6.4, 4.2, 5.9, 8.2, 15.2, 12.0, 7.6, ],
[0.0, -3.4, -5.1, 1.4, 3.7, 5.4, 8.4, 7.1, 7.1, 7.5, 6.5, 5.7, 7.1, 11.5, 6.7, 4.1, ],
[0.0, 0.0, -4.2, -5.1, -4.2, 1.5, 10.9, 10.5, 7.0, 8.2, 10.5, 11.9, 4.3, 4.2, 3.8, -0.8, ],
]
]

paths = [
	[[0., 0.],
	[0.40, -0.01],
	],
	[[0., 0.],
	[0.40, -0.01],
	[0.9, 0.01]
	]
]

def map_plot(map, index):
	for i in range(len(map)):
		for j in range(len(map[0])):
			plt.scatter(startPos[index][0] + i*res, startPos[index][1] - j*res, c=str(1/(1+np.exp(map[i][j]))))
	plt.title(f'Robot mapping small area - map {index}')
	plt.xlabel('x (m)')
	plt.ylabel('y (m)')
	#plt.xlim(startPos[index][0], startPos[index][0] + mapSize)
	#plt.xlim(startPos[index][1] - mapSize, startPos[index][1])
	plt.grid()

def path_plot(path):
	print(path)

	plt.scatter(path[0][0], path[0][1], c='darkred', s=50, label='init pos', zorder=10)
	plt.scatter(path[-1][0], path[-1][1], c='orange', s=50, label='final pos', zorder=10)
	plt.plot(path[:,0], path[:,1], c='r', marker='.', markersize=20, label='path')
	plt.legend(loc=4)

def main():
	for i in range(len(maps)):
		plt.figure(figsize=(5,5))
		map_plot(maps[i], i)
		#path_plot(np.array(paths[i]))
	plt.show()

main()