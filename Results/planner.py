from matplotlib import markers
import numpy as np
import matplotlib.pyplot as plt

startPos = [-0.64, 0.64]
res = 0.08

def small_map():
	'''
	small_map = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -5.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -5.1, -5.1, -5.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, 0.0, 0.0, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, 0.0, 0.0, 0.0, 0.0, ],
[0.0, 0.0, 0.0, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, 0.0, 0.0, ],
[0.0, 0.0, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -14.8, 6.1, 0.0, ],
[-5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -14.8, -3.6, 8.3, 8.3, ],
[-5.1, -5.1, -5.1, -5.1, -5.1, -5.1, -11.1, -14.4, -15.5, -14.4, -11.1, -10.7, 6.1, 8.3, 8.3, -69.5, ],
[-5.1, -5.1, -5.1, -5.1, -5.1, -5.1, 8.3, 8.3, 8.3, 8.3, 8.3, 8.3, 8.3, 8.3, -69.5, 0.0, ],
]
'''
	map = [[-1.7, -1.7, -1.7, -16.8, -58.5, -84.2, -36.5, 8.3, 2.8, 2.8, 2.8, -29.7, 0.0, 0.0, 0.0, 0.0, ],
	[-1.7, -1.7, -45.6, -68.7, 11.6, 11.6, 11.1, 8.3, 2.8, 2.8, 2.8, 2.8, 0.0, 0.0, 0.0, 0.0, ],
	[-1.7, -60.3, -35.9, 10.8, 10.8, 4.2, -1.4, -7.3, -3.7, -2.8, 2.8, 1.4, 0.0, 0.0, 0.0, 0.0, ],
	[-17.7, -52.7, 10.8, 10.8, -7.2, -19.9, -18.2, -5.9, -1.7, -1.7, -5.1, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-105.1, 9.9, 9.9, -11.7, -18.2, -9.3, -8.5, -5.9, -1.7, -1.7, -0.8, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-80.9, 12.2, 9.7, -23.4, -9.3, -9.3, -9.3, -7.6, -1.7, -1.7, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-1.1, 14.4, -12.7, -14.6, -10.2, -10.2, -9.3, -8.5, -1.7, -0.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[14.4, 14.4, -18.7, -10.2, -10.2, -10.2, -10.2, -9.3, -1.7, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[13.0, 13.0, -16.9, -9.3, -9.3, -9.3, -9.3, -9.3, -21.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-2.3, 13.0, -11.0, -12.8, -8.5, -7.6, -6.8, -23.2, -17.6, -21.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-81.9, 10.2, 10.2, -20.8, -6.8, -25.4, -39.3, -18.4, -17.6, -22.0, -21.2, -21.2, 0.0, 0.0, 0.0, 0.0, ],
	[-104.7, 8.9, 8.9, -27.4, -25.2, -25.9, -22.0, -20.3, -50.8, -20.3, -22.0, -21.2, -59.1, 29.4, 0.0, 0.0, ],
	[-0.8, -23.7, -28.3, -13.4, -23.2, -23.6, -22.0, -20.3, -20.3, -20.3, -22.0, -59.1, -24.7, 34.7, 34.7, 0.0, ],
	[-20.3, -50.6, -14.8, -30.6, -15.3, -17.7, -19.9, -67.7, -35.3, -68.2, -42.1, 28.1, 34.7, 34.7, -323.4, 0.0, ],
	[-20.3, -20.3, -35.5, -30.6, -31.6, -16.7, 33.3, 33.3, -4.9, 33.3, 33.3, 36.0, 36.0, -323.4, -30.4, 0.0, ],
	[-20.3, -20.3, -19.5, -19.5, -48.4, -18.1, 33.3, 33.3, 33.3, 33.3, 33.3, 36.0, -384.3, 0.0, 0.0, 0.0, ],
	[-24.6, -19.5, -19.5, -19.5, -48.9, -47.0, -377.5, -364.8, -101.3, -367.4, -349.6, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-32.4, -23.4, -19.5, -19.5, -19.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[2.2, -28.0, -40.1, -19.5, -19.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[14.8, 4.3, -17.3, -31.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-15.4, 13.7, 9.8, 4.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-11.3, -156.3, -15.3, 13.9, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-3.0, -61.9, -11.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-10.0, -14.1, -2.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[3.3, -11.0, -10.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-28.3, 3.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-0.8, -15.9, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-0.8, -0.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-0.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[-0.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	]

	for i in range(32):
		for j in range(16):
			plt.scatter(startPos[0] + i*res, startPos[1] - j*res, c=str(1/(1+np.exp(map[i][15-j]))))
	plt.title('Robot planning path around obstacle')
	plt.xlabel('x (m)')
	plt.ylabel('y (m)')
	plt.grid()

def path():
	'''
	path = np.array([[0.00, 0.00],
	[0.24, 0.00],
	[0.48, 0.24],
	[0.72, 0.24],
	[0.96, 0.00],
	[1.20, 0.00],
	])
	'''
	path = np.array([[0.00, 0.00],
	[0.23, 0.06],
	[0.47, 0.30],
	[0.71, 0.30],
	[0.95, 0.06],
	[1.19, 0.06],
	])


	plt.scatter(path[0][0], -path[0][1], c='darkred', s=50, label='init pos', zorder=10)
	plt.scatter(path[-1][0], -path[-1][1], c='orange', s=50, label='final pos', zorder=10)
	plt.plot(path[:,0], -path[:,1], c='r', marker='.', markersize=20, label='path')
	plt.legend()

small_map()
path()
plt.show()