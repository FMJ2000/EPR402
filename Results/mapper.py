import numpy as np
import matplotlib.pyplot as plt

startPos = [[-0.64, 0.64], [0.64, 0.64]]
res = 0.08
mapSize = 1.28

'''
map = [[1.4, 0.3, -2.9, -6.8, -7.1, -7.0, -8.1, -6.7, -4.8, -7.0, -1.9, 1.0, 5.5, 3.9, 2.5, -31.3, ],
	[-2.2, -3.4, -1.7, -2.5, -3.4, -3.4, -4.2, -4.2, -6.2, -5.3, -3.6, -7.2, -5.3, 3.9, 2.5, -14.3, ],
	[0.0, -0.8, -1.7, -2.5, -3.4, -3.4, -4.2, -4.2, -4.2, -4.2, -6.1, -7.0, -7.2, -6.7, 1.1, 1.1, ],
	[0.0, -59.2, -43.4, 1.1, -2.0, -2.0, -4.2, -4.2, -4.2, -4.2, -5.1, -5.1, -4.2, -5.1, -1.8, -0.3, ],
	[-40.5, -5.6, 7.5, 1.1, -2.0, -2.0, -4.2, -4.2, -4.2, -3.4, -5.1, -4.2, -3.4, -3.4, -1.7, -1.7, ],
	[9.7, 9.7, 9.7, -4.0, -4.9, -4.8, -4.2, -4.2, -4.2, -3.7, -4.2, -3.4, -1.7, -1.7, -1.7, -1.7, ],
	[9.7, -0.7, -14.4, -8.9, -4.2, -4.2, -4.2, -4.2, -2.9, -2.9, 0.2, -0.3, -1.7, -1.7, -1.7, -0.8, ],
	[4.1, -13.3, -8.0, -5.9, -5.1, -4.2, -4.2, -7.1, -5.6, -1.9, 1.1, -12.7, -0.8, -0.8, -0.8, -0.8, ],
	[-6.8, -8.0, -5.1, -5.9, -5.1, -4.2, -4.2, -5.1, -40.8, -3.4, 3.3, 3.3, -16.0, -0.8, -0.8, -0.8, ],
	[-4.2, -4.2, -4.2, -4.2, -4.2, -4.2, -2.5, -35.9, -37.6, -39.9, 1.9, 1.9, -0.8, -0.8, -0.8, -0.8, ],
	[-3.4, -3.4, -4.2, -4.2, -4.2, -39.0, -51.2, -36.7, -36.7, -38.1, -35.9, -35.0, -0.8, -0.8, -0.8, -0.8, ],
	[-3.4, -3.4, -3.4, 54.8, -64.8, -39.0, -38.1, -38.1, -54.2, -40.9, -36.0, -35.9, -36.4, -36.4, -0.8, -0.8, ],
	[-4.2, -4.2, 52.4, 53.1, 53.1, -65.9, -114.7, -122.9, -131.2, -115.0, -35.4, -33.7, -51.6, -36.4, -36.4, -0.8, ],
	[-2.9, -2.9, -18.0, 51.5, 55.4, 55.4, 58.7, 54.6, 53.9, 59.3, -35.4, -67.0, -38.1, -36.4, -37.3, -36.4, ],
	[-19.1, -2.9, -2.9, -20.2, 53.6, 59.3, 62.4, 62.4, 63.8, 62.9, 24.9, -38.1, -38.1, -38.1, -36.4, -38.3, ],
	[-4.2, -18.3, -2.9, -2.0, -0.3, -620.4, -629.2, -589.0, -580.6, -622.0, -605.5, -38.1, -38.1, -41.8, -38.3, -30.6, ],
	]
'''

maps = [
	[[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -23.7, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -21.5, -23.7, -23.7, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, -22.9, -37.6, -21.5, -23.7, -23.7, -23.7, -23.7, 0.0, 0.0, 0.0, 0.0, ],
	[0.0, 0.0, 0.0, -25.5, -22.9, -22.9, -22.9, -23.7, -24.6, -23.7, -23.7, -23.7, -23.7, -26.2, 0.0, 0.0, ],
	[0.0, 0.0, -18.4, -20.8, -26.3, -22.9, -22.9, -24.6, -24.6, -24.6, -24.6, -23.7, -27.0, -22.5, -19.0, -0.8, ],
	[-21.2, -50.0, -18.4, -18.4, -20.8, -26.3, -25.9, -25.4, -25.4, -24.6, -26.7, -27.1, -25.6, -17.0, -17.7, -46.5, ],
	[-21.2, -21.2, -49.3, -18.4, -20.1, -20.1, -25.7, -26.3, -26.4, -26.3, -25.7, -20.4, -20.8, -16.3, -44.4, -33.9, ],
	[-24.4, -22.0, -22.9, -51.7, -20.1, -20.1, -23.2, -23.2, -23.2, -23.2, -23.2, -20.4, -15.7, -45.1, -32.5, -18.9, ],
	[-21.2, -26.1, -22.9, -22.9, -38.0, -51.3, -23.2, -23.2, -23.2, -23.2, -23.2, -45.6, -32.6, -17.6, -34.0, -20.3, ],
	[-18.4, -21.0, -25.2, -24.7, -22.9, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -22.3, -18.4, -35.6, -20.3, -20.3, ],
	[-18.4, -18.4, -18.4, -21.5, -25.4, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -21.2, -21.2, -21.2, -20.3, ],
	[-50.3, -18.4, -18.4, -18.4, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -23.7, -21.2, -21.2, -21.2, ],
	[-30.1, -52.8, -34.5, -18.4, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -21.2, -21.2, -40.9, ],
	[1.1, -7.6, -30.8, -54.4, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -40.8, -31.0, -1.3, ],
	[3.4, 3.4, 0.1, -2.8, -30.7, -37.2, -41.9, -42.3, -43.2, -42.3, -43.9, -38.6, -31.4, -2.0, 3.4, 3.4, ],
	[-156.0, 3.4, 1.2, 0.7, 0.0, 2.2, 2.2, -0.2, -0.3, -0.2, 4.5, 4.5, 2.2, 2.9, 3.4, 3.4, ],
	[-26.6, -10.5, -160.7, -118.4, 2.2, 0.6, -0.2, -0.7, -0.9, -0.9, -0.5, 2.5, 3.5, -116.5, -161.0, -11.9, ],
	[-11.9, -12.7, -11.3, -12.2, -24.7, -69.2, -172.0, -169.3, -168.4, -169.3, -172.0, -82.9, -23.9, -9.1, -9.1, -11.9, ],
	[-11.9, -12.7, -28.7, -27.9, -9.9, -9.9, -9.9, -9.9, -9.9, -9.9, -9.9, -9.1, -9.1, -24.8, -41.1, -11.9, ],
	[-12.7, -12.7, -13.6, -13.6, -12.7, -27.8, -27.3, -27.0, -42.0, -26.9, -27.0, -26.6, -27.1, -11.9, -11.9, -12.7, ],
	[-12.7, -13.6, -13.6, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -11.9, -11.9, -11.9, -11.9, -11.9, ],
	[-13.9, -15.6, -13.6, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -11.9, -11.9, -11.9, -11.9, -11.9, ],
	[-10.5, -11.3, -14.3, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -11.9, -11.9, -11.9, -11.9, ],
	[-11.3, -11.3, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -12.7, -11.9, -11.9, -11.9, -11.9, ],
	],
	[[-21.2, -26.1, -22.9, -22.9, -38.0, -51.3, -23.2, -23.2, -23.2, -23.2, -23.2, -45.6, -32.6, -17.6, -34.0, -20.3, ],
	[-18.4, -21.0, -25.2, -24.7, -22.9, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -22.3, -18.4, -35.6, -20.3, -20.3, ],
	[-18.4, -18.4, -18.4, -21.5, -25.4, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -24.6, -21.2, -21.2, -21.2, -20.3, ],
	[-50.3, -18.4, -18.4, -18.4, -24.6, -24.6, -24.6, -24.6, -25.4, -24.6, -24.6, -24.6, -23.7, -21.2, -21.2, -21.2, ],
	[-30.1, -52.8, -34.5, -18.4, -24.6, -25.4, -25.4, -25.4, -25.4, -25.4, -24.6, -24.6, -24.6, -21.2, -21.2, -40.9, ],
	[1.1, -8.5, -31.7, -55.3, -25.4, -25.4, -25.4, -25.4, -25.4, -25.4, -25.4, -24.6, -24.6, -40.8, -31.0, -1.3, ],
	[2.5, 2.5, -0.7, -3.7, -31.5, -38.0, -42.7, -43.2, -44.0, -43.2, -44.7, -39.5, -31.4, -2.0, 3.4, 3.4, ],
	[-156.9, 2.5, 0.3, -0.2, -0.8, 1.4, 1.4, -1.1, -1.1, -1.1, 3.6, 3.6, 1.4, 2.9, 3.4, 3.4, ],
	[-27.4, -11.3, -161.6, -119.3, 1.3, -0.2, -1.1, -1.6, -1.8, -1.7, -1.3, 1.6, 2.6, -117.3, -161.0, -11.9, ],
	[-12.7, -13.6, -12.2, -13.0, -25.6, -70.0, -172.9, -170.2, -169.3, -170.2, -172.9, -83.8, -24.7, -9.9, -9.9, -11.9, ],
	[-12.7, -13.6, -29.5, -28.7, -10.8, -10.8, -10.8, -10.8, -10.8, -10.8, -10.8, -9.9, -9.9, -25.6, -42.0, -12.7, ],
	[-13.6, -13.6, -14.4, -14.4, -13.6, -28.6, -28.1, -27.8, -42.9, -27.7, -27.9, -27.4, -27.9, -12.7, -12.7, -13.6, ],
	[-13.6, -14.4, -12.2, -14.5, -15.5, -13.6, -13.6, -13.6, -13.6, -13.6, -13.6, -12.7, -12.7, -12.7, -12.7, -12.7, ],
	[-14.7, -16.4, -12.2, -11.3, -11.3, -14.1, -14.7, -15.0, -15.0, -14.9, -13.6, -12.7, -12.7, -12.7, -12.7, -12.7, ],
	[-11.3, -26.0, -12.9, -11.3, -11.3, -11.3, -11.3, -11.3, -11.3, -11.3, -13.6, -13.6, -12.7, -12.7, -12.7, -12.7, ],
	[-11.3, -11.3, -12.7, -27.4, -11.3, -11.3, -11.3, -11.3, -11.3, -11.3, -13.6, -13.6, -12.7, -12.7, -12.7, -12.7, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -15.2, -14.9, -14.8, -14.9, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, -0.8, ],
	[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.8, -0.8, -0.8, -0.8, ],
	]
]

paths = [
	[[0., 0.],
	[0.40, -0.01],
	],
	[[0., 0.],
	[0.40, -0.01],
	[0.9, 0.01]
	]
]

def map_plot(map, index):
	for i in range(len(map)):
		for j in range(len(map[0])):
			plt.scatter(startPos[index][0] + i*res, startPos[index][1] - j*res, c=str(1/(1+np.exp(map[i][j]))))
	plt.title(f'Robot mapping small area - map {index}')
	plt.xlabel('x (m)')
	plt.ylabel('y (m)')
	#plt.xlim(startPos[index][0], startPos[index][0] + mapSize)
	#plt.xlim(startPos[index][1] - mapSize, startPos[index][1])
	plt.grid()

def path_plot(path):
	print(path)

	plt.scatter(path[0][0], path[0][1], c='darkred', s=50, label='init pos', zorder=10)
	plt.scatter(path[-1][0], path[-1][1], c='orange', s=50, label='final pos', zorder=10)
	plt.plot(path[:,0], path[:,1], c='r', marker='.', markersize=20, label='path')
	plt.legend(loc=4)

def main():
	for i in range(len(maps)):
		plt.figure(figsize=(10,5))
		map_plot(maps[i], i)
		path_plot(np.array(paths[i]))
	plt.show()

main()